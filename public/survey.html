<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

	<link rel="stylesheet" href="./style.css">
	<title>Friend Finder</title>
</head>

<body>
	<!-- SURVEY START -->
	<div class="container">

		<form action="">

			<br>

			<div class="jumbotron">

			<h1 class="text-center">Survey Questions</h1>

			<h4 class="text-center">Please fill out this survey: 1 meaning you are unlikely to or disagree, 5 meaning you are likely to or agree.</h4>

			<a class="btn btn-primary" href="/*" style="float:right">Return to home</a>
		</div>


		<div class="row">

			<div class="col-sm-6">

			<div class="form-group">

				<label for="name">Name (Required)</label>

				<input type="text"name="name" id="name">

			</div>

			</div>

			<div class="col-sm-6">

			<div class="form-group">

				<label for="photo">Url to photo (Required)</label>

				<input type="text" name="photo" id="photo">

			</div>

			</div>

		</div>

			<div class="row">

				<div class="col-sm-12">

					<div class="card">

						<h4>Question:</h4>

						<h6>How likely are you to work out?</h6>

						<select name="answer1" id="answer1">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

<br><br>

					<div class="card">

						<h4>Question 2</h4>

						<h6>How likely are you to party?</h6>
						
						<select name="answer2" id="answer2">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

					<br><br>

					<div class="card">

						<h4>Question 3</h>

							<h6>Do you like cats?</h6>
						<select name="answer3" id="answer3">
							
							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>
<br><br>
	
<div class="card">



						<h4
						>Question 4</h>


							<h6>Do you like dogs?</h6>

							<select name="answer4" id="answer4">
							
							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

<br><br>
	
<div class="card">

						<h4>Question 5</h4>

						<h6>Do you enjoy being alone?</h6>
						
						<select name="answer5" id="answer5">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

<br><br>	


					<div class="card">

						<h4>Question 6</h4>

						<h6>Do you prefer yourself artistic?</h6>
						
						<select name="answer6" id="answer6">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

					<br><br>

					<div class="card">

						<h4>Question 7</h4>

						<h6>Do you consider yourself analytical?</h6>
						
						<select name="answer7" id="answer7">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

					<br><br>

					<div class="card">

						<h4>Question 8</h4>

						<h6>Do you like spicy food?</h6>
						
						<select name="answer8" id="answer8">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

					<br><br>

					<div class="card">

						<h4>Question 9</h4>

						<h6>Do you like to ski?</h6>
						
						<select name="answer9" id="answer9">

							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

					<br><br>

					<div class="card">

						<h4>Question 10</h4>

						<h6>Do you like coding?</h6>
	
						<select name="answer10" id="answer10">
		
							<option value="1">1</option>

							<option value="2">2</option>

							<option value="3">3</option>

							<option value="4">4</option>

							<option value="5">5</option>

						</select>

					</div>

				</div>

				

			</div>

			<br><br>

			<button type="submit" class="btn submit" id="">Submit</button>

		</form>
		<br>

	</div>

	<footer class="footer">

		<div class="container">

			<br>

			<a href="/api/friends">API for friends</a>

			<br>

		</div>

	</footer>

	<div class="modal" tabindex="-1" role="dialog" id="modelResults">

		<div class="modal-dialog">

			<div class="modal-content">

				<div class="modal-header">

					<h5 class="modal-title">Your best match is:</h5>

				</div>

				<div class="modal-body">

					<p id="nameForModal"></p>

					<img src="" alt="Match Image" id="imageForModal" style="width:50%;height:50%;">

				</div>
				
				<div class="modal-footer">

					<button type="button" class="btn btn-secondary" data-dismiss="modal">Exit</button>

				</div>

			</div>

		</div>
		
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>

</html>

<!-- logic for data -->

<script type="text/javascript">

	$(".submit").on("click", function (event) {

		event.preventDefault();

		var newFriend = {

			name: $("#name").val().trim(),

			photo: $("#photo").val().trim(),

			scores: [

				parseInt($("#answer1").val()),

				parseInt($("#answer2").val()),

				parseInt($("#answer3").val()),

				parseInt($("#answer4").val()),

				parseInt($("#answer5").val()),
				
				parseInt($("#answer6").val()),

				parseInt($("#answer7").val()),

				parseInt($("#answer8").val()),

				parseInt($("#answer9").val()),
				
				parseInt($("#answer10").val()),
			]
		}

		$.post("/api/friends", newFriend, function (data) {

			if (data) {

				$("#nameForModal").html(data.name);

				$("#imageForModal").attr("src", data.photo);

				$("#modelResults").modal("toggle");
			}
		});
	});
</script>